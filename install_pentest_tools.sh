#!/bin/bash
# ================================ FUNCTIONS ================================
# ================================ INSTALL FUNCTIONS ================================

# Function to install pentest tools
install_pentest_tools() {
    show_info "Installing pentest tools..."
    # check if os is supported
    if ! is_supported_os $OS; then
        show_error "Unsupported OS"
        exit 1
    fi

    # Install Go-based tools
    # TODO: Install Go-based tools
    
    # Install Gobuster
    install_go_library "gobuster"
    # Install ffuf
    install_go_library "ffuf"
    # Install Metasploit
    install_go_library "metasploit-framework"
    # Install Nmap
    install_go_library "nmap"
    # Install sqlmap
    install_go_library "sqlmap"
    # Install wpscan
    install_go_library "wpscan"
    # Install nikto
    # Install dirb
    # Install dirbuster
    # Install wfuzz
    # Install sqlmap
    # Install wpscan
    

    # Install Rust-based tools
    # TODO: Install Rust-based tools

    # Install Python-based tools
    # TODO: Install Python-based tools
}

# Main function
main() {
    # Install common tools first (includes Go and Rust)
    source ./common.sh

    # Install pentest tools
    install_pentest_tools

    # Source .zshrc to apply changes
    show_info "Applying changes to current shell..."
    if [ -n "$ZSH_VERSION" ]; then
        source ~/.zshrc
    else
        show_info "Please run 'zsh' to apply all changes"
    fi
}

# Run the main function
main
